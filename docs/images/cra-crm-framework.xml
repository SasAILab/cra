<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.2.5 Chrome/138.0.7204.251 Electron/37.6.1 Safari/537.36" version="28.2.5">
  <diagram id="contract-agent-arch" name="Contract Compliance Agent Architecture">
    <mxGraphModel dx="2014" dy="1190" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="layer1" value="用户交互层 (Client Layer)" style="swimlane;whiteSpace=wrap;html=1;startSize=23;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="1080" height="80" as="geometry" />
        </mxCell>
        <mxCell id="l1_1" value="Web 后台管理系统" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer1" vertex="1">
          <mxGeometry x="150" y="35" width="150" height="35" as="geometry" />
        </mxCell>
        <mxCell id="l1_2" value="移动端审批助手" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer1" vertex="1">
          <mxGeometry x="465" y="35" width="150" height="35" as="geometry" />
        </mxCell>
        <mxCell id="l1_3" value="第三方系统集成 (ERP/OA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer1" vertex="1">
          <mxGeometry x="780" y="35" width="180" height="35" as="geometry" />
        </mxCell>
        <mxCell id="layer2" value="业务应用层 (Business Layer)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="40" y="140" width="1080" height="140" as="geometry" />
        </mxCell>
        <mxCell id="l2_1" value="OCR识别合同文档&lt;br&gt;--&lt;br&gt;OCR提取文字 / OCR定位文字&lt;br&gt;pdf2md / ocr数据存储" style="shape=whiteSpaceParts;html=1;fillColor=#ffffff;align=left;spacingLeft=10;" parent="layer2" vertex="1">
          <mxGeometry x="20" y="40" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="l2_2" value="合同图索引构建&lt;br&gt;--&lt;br&gt;节点/边生成 / 图构建&lt;br&gt;子图划分 / 子图问答" style="shape=whiteSpaceParts;html=1;fillColor=#ffffff;align=left;spacingLeft=10;" parent="layer2" vertex="1">
          <mxGeometry x="290" y="40" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="l2_3" value="合同审查&lt;br&gt;--&lt;br&gt;风险评估 / 风险等级分类&lt;br&gt;风险修改建议&amp;nbsp; / 其他" style="shape=whiteSpaceParts;html=1;fillColor=#ffffff;align=left;spacingLeft=10;" parent="layer2" vertex="1">
          <mxGeometry x="560" y="40" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="l2_4" value="问答chat&lt;br&gt;--&lt;br&gt;选定风险内容修订 / 选定内容再问答" style="shape=whiteSpaceParts;html=1;fillColor=#ffffff;align=left;spacingLeft=10;" parent="layer2" vertex="1">
          <mxGeometry x="820" y="40" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="layer3" value="AI 智能体层 (Agent Layer - LangChain / Multi-Agent)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="40" y="300" width="1080" height="150" as="geometry" />
        </mxCell>
        <mxCell id="l3_0" value="多智能体协作总线 (Agent Orchestrator)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;fontStyle=1" parent="layer3" vertex="1">
          <mxGeometry x="20" y="35" width="1040" height="30" as="geometry" />
        </mxCell>
        <mxCell id="l3_1" value="解析 Agent&lt;br&gt;(Word / PDF解析)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer3" vertex="1">
          <mxGeometry x="50" y="80" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l3_2" value="法务 Agent&#xa;(法律条款审查)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer3" vertex="1">
          <mxGeometry x="260" y="80" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l3_3" value="合规 Agent&#xa;(内部策略校验)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer3" vertex="1">
          <mxGeometry x="465" y="80" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l3_4" value="撰写 Agent&#xa;(意图转合同)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer3" vertex="1">
          <mxGeometry x="670" y="80" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="l3_5" value="评估 Agent&#xa;(风险量化评分)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer3" vertex="1">
          <mxGeometry x="870" y="80" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="layer4" value="基础服务与算法层 (Core Services &amp; Algorithms)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="40" y="470" width="1080" height="110" as="geometry" />
        </mxCell>
        <mxCell id="l4_1" value="大语言模型 (LLM)&lt;br&gt;DeepSeek / Qwen / Chat-GLM" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer4" vertex="1">
          <mxGeometry x="40" y="40" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="l4_2" value="OCR引擎&lt;br&gt;MinerU / PaddleOCR" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer4" vertex="1">
          <mxGeometry x="300" y="40" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="l4_3" value="RAG 知识检索&#xa;向量检索 / 知识图谱" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer4" vertex="1">
          <mxGeometry x="570" y="40" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="l4_4" value="工作流引擎&lt;br&gt;LangChain / LangGraph" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer4" vertex="1">
          <mxGeometry x="840" y="40" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="layer5" value="数据存储与中间件层 (Data &amp; Middleware Layer)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="40" y="600" width="1080" height="140" as="geometry" />
        </mxCell>
        <mxCell id="l5_1" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;PostgreSQL&lt;br&gt;(元数据/用户)" style="shape=cylinder3;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer5" vertex="1">
          <mxGeometry x="60" y="35" width="100" height="75" as="geometry" />
        </mxCell>
        <mxCell id="l5_2" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;MongoDB&lt;br&gt;(文档内容)" style="shape=cylinder3;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer5" vertex="1">
          <mxGeometry x="220" y="35" width="100" height="75" as="geometry" />
        </mxCell>
        <mxCell id="l5_3" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;Neo4j&lt;br&gt;(知识图谱)" style="shape=cylinder3;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer5" vertex="1">
          <mxGeometry x="380" y="35" width="100" height="75" as="geometry" />
        </mxCell>
        <mxCell id="l5_4" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;Milvus&lt;br&gt;(向量库)" style="shape=cylinder3;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer5" vertex="1">
          <mxGeometry x="540" y="35" width="100" height="75" as="geometry" />
        </mxCell>
        <mxCell id="l5_5" value="RabbitMQ&#xa;(任务异步)" style="shape=step;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer5" vertex="1">
          <mxGeometry x="690" y="45" width="150" height="55" as="geometry" />
        </mxCell>
        <mxCell id="l5_6" value="Redis&#xa;(会话/缓存)" style="shape=step;whiteSpace=wrap;html=1;fillColor=#ffffff;" parent="layer5" vertex="1">
          <mxGeometry x="870" y="45" width="150" height="55" as="geometry" />
        </mxCell>
        <mxCell id="lw9f70TRiIUB8l8_ZJac-1" value="分层日志管理器" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1130" y="170" width="210" height="370" as="geometry" />
        </mxCell>
        <mxCell id="lw9f70TRiIUB8l8_ZJac-2" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;pycra日志管理&lt;/font&gt;&lt;/b&gt;&lt;div&gt;pycra-api&lt;/div&gt;&lt;div&gt;pycra-api.router&lt;/div&gt;&lt;div&gt;pycra-llm&lt;/div&gt;&lt;div&gt;pycra-rag&lt;/div&gt;" style="shape=whiteSpaceParts;html=1;fillColor=#ffffff;align=center;spacingLeft=10;" parent="lw9f70TRiIUB8l8_ZJac-1" vertex="1">
          <mxGeometry x="15" y="40" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lw9f70TRiIUB8l8_ZJac-6" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;java日志管理&lt;/font&gt;&lt;/b&gt;&lt;div&gt;java-user&lt;/div&gt;&lt;div&gt;java-contract&lt;/div&gt;&lt;div&gt;java-common&lt;/div&gt;&lt;div&gt;java-exception&lt;/div&gt;" style="shape=whiteSpaceParts;html=1;fillColor=#ffffff;align=center;spacingLeft=10;" parent="lw9f70TRiIUB8l8_ZJac-1" vertex="1">
          <mxGeometry x="15" y="150" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lw9f70TRiIUB8l8_ZJac-7" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;web日志管理&lt;/font&gt;&lt;/b&gt;&lt;div&gt;web-user&lt;/div&gt;&lt;div&gt;web-contract&lt;/div&gt;&lt;div&gt;web-exception&lt;/div&gt;" style="shape=whiteSpaceParts;html=1;fillColor=#ffffff;align=center;spacingLeft=10;" parent="lw9f70TRiIUB8l8_ZJac-1" vertex="1">
          <mxGeometry x="15" y="260" width="180" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
